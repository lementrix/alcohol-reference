---
import products from "../data/products";
import "../styles/main.css";

const BASE = import.meta.env.BASE_URL;
---

<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alcohol Reference</title>
  </head>

  <body>
    <h1>Alcohol Reference</h1>

    <input
      id="search"
      type="text"
      placeholder="Szukaj produktuâ€¦"
    />

    <ul id="list">
      {products.map((p) => (
        <li>
          <a href={`${BASE}products/${p.slug}`}>
            {p.name}
          </a>
        </li>
      ))}
    </ul>

    <script>
      const input = document.getElementById("search");
      const items = document.querySelectorAll("#list li");

      input.addEventListener("input", () => {
        const value = input.value.toLowerCase();
        items.forEach(li => {
          li.style.display = li.textContent.toLowerCase().includes(value)
            ? ""
            : "none";
        });
      });
    </script>
  </body>
</html>